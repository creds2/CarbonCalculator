Tippcanoe Instructions using WSL2

cd /mnt/d/GitHub/creds2/CarbonCalculator/data


tippecanoe --output-to-directory=carbon_super_gen --name=carbon --layer=carbon --attribution=MALCOLMMORGAN --maximum-zoom=8 --minimum-zoom=4  --coalesce-smallest-as-needed --simplification=10 --detect-shared-borders --maximum-tile-bytes=50000000 --buffer=5 --force  carbon_super_general.geojson

tippecanoe --output-to-directory=carbon_gen --name=carbon --layer=carbon --attribution=MALCOLMMORGAN --maximum-zoom=11 --minimum-zoom=9  --coalesce-smallest-as-needed --simplification=10 --detect-shared-borders --maximum-tile-bytes=5000000 --buffer=5 --force  carbon_general.geojson

tippecanoe --output-to-directory=carbon_full --name=carbon --layer=carbon --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=12  --coalesce-smallest-as-needed --simplification=10 --detect-shared-borders --maximum-tile-bytes=5000000 --buffer=5 --force  carbon_full.geojson


tile-join --output-to-directory=LSOA_gen_and_sup_gen lsoa_super_general.mbtiles lsoa_general.mbtiles --attribution=MALCOLMMORGAN --name=lsoa

tile-join --output-to-directory=lsoa lsoa_super_general.mbtiles lsoa_general.mbtiles lsoa_full.mbtiles --attribution=MALCOLMMORGAN --name=LSOA


#### tippecanoe -zg --output-to-directory=mytiles2 --coalesce-smallest-as-needed --simplification=10 --detect-shared-borders LSOA_v1.geojson

consider 
--maximum-tile-bytes=1000K

### LAs

tippecanoe --output-to-directory=la_tiles --name=la --layer=la --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=0  --drop-smallest-as-needed --simplification=10 --detect-shared-borders --force  bounds/la_bounds.geojson

### Admin boundaries

tippecanoe --output-to-directory=parish_tiles --name=parish --layer=parish --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=0  --drop-smallest-as-needed --simplification=10 --detect-shared-borders --force  bounds/parish.geojson

tippecanoe --output-to-directory=constituencies_tiles --name=constituencies --layer=constituencies --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=0  --drop-smallest-as-needed --simplification=10 --detect-shared-borders --force  bounds/constituencies.geojson

tippecanoe --output-to-directory=wards_tiles --name=wards --layer=wards --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=0  --drop-smallest-as-needed --simplification=10 --detect-shared-borders --force  bounds/wards.geojson


### Bus Stops

tippecanoe --output-to-directory=busstopstiles --name=busstops --layer=busstops --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=8  --drop-densest-as-needed --force  busstops/openbusdata.geojson

### Bus Stops v2

tippecanoe --output-to-directory=transitstops --name=transitstops --layer=transitstops --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=4  --drop-densest-as-needed -rg4 --force  transit_stop_frequency_v3.geojson 


### LSOA cents

tippecanoe --output-to-directory=tiles/centroids --name=centroids --layer=centroids --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=6  --drop-densest-as-needed --force  data-prepared/lsoa_centroids.geojson


### OS Zoomstack

mb-util --image_format=pbf os_openzoomstack/OS_Open_Zoomstack.mbtiles OSzoomStack

tile-join --output-to-directory=OSzoomStack4 os_openzoomstack/OS_Open_Zoomstack.mbtiles

tippecanoe --output-to-directory=OSzoomStack6  --attribution=MALCOLMMORGAN --maximum-zoom=8 --minimum-zoom=4  --coalesce-smallest-as-needed --simplification=10 --detect-shared-borders --maximum-tile-bytes=50000000 --buffer=5 --force  carbon_super_general.geojson

### OS Zoomstack - Custom build

cd /mnt/d/GitHub/creds2/CarbonCalculator/data/zoomstackgeojson

tippecanoe --output-to-directory=OSzoomStackCustom  --attribution=OS --maximum-zoom=13 --drop-smallest-as-needed --simplification=10 --force  airports.geojson boundaries.geojson district_buildings.geojson foreshore.geojson greenspace.geojson land.geojson names.geojson national_parks.geojson rail.geojson railway_stations.geojson roads_local.geojson roads_national.geojson roads_regional.geojson sites.geojson surfacewater.geojson urban_areas.geojson woodland.geojson

### OS Zoomstack

cd /mnt/c/tiles/oszoom/low

tippecanoe --output-to-directory=OSzoomLow  --attribution=OS --maximum-zoom=8 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson national_parks.geojson roads.geojson surfacewater.geojson urban_areas.geojson woodland.geojson


cd /mnt/c/tiles/oszoom/med

tippecanoe --output-to-directory=OSzoomMed  --attribution=OS --minimum-zoom=9 --maximum-zoom=11 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson national_parks.geojson roads.geojson surfacewater.geojson urban_areas.geojson woodland.geojson

cd /mnt/c/tiles/oszoom/high

tippecanoe --output-to-directory=OSzoomHigh  --attribution=OS --minimum-zoom=12 --maximum-zoom=13 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson national_parks.geojson rail.geojson railway_stations.geojson roads.geojson surfacewater.geojson urban_areas.geojson woodland.geojson

cd /mnt/c/tiles/oszoom/veryhigh

tippecanoe --output-to-directory=OSzoomVeryHigh  --attribution=OS --minimum-zoom=14 --maximum-zoom=15 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson rail.geojson railway_stations.geojson roads.geojson surfacewater.geojson woodland.geojson buildings.geojson

cd /mnt/c/tiles/oszoom/ultrahigh

tippecanoe --output-to-directory=OSzoomUltraHigh  --attribution=OS --minimum-zoom=16 --maximum-zoom=17 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson rail.geojson railway_stations.geojson roads.geojson surfacewater.geojson woodland.geojson buildings.geojson


### pmTiles experiments
cd /mnt/c/tiles/oszoom/low
tippecanoe -o oslow.mbtiles  --attribution=OS --maximum-zoom=8 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson national_parks.geojson roads.geojson surfacewater.geojson urban_areas.geojson woodland.geojson

cd /mnt/c/tiles/oszoom/med
tippecanoe -o osmed.mbtiles  --attribution=OS --minimum-zoom=9 --maximum-zoom=11 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson rail.geojson national_parks.geojson roads.geojson surfacewater.geojson urban_areas.geojson woodland.geojson

cd /mnt/c/tiles/oszoom/high
tippecanoe -o oshigh.mbtiles  --attribution=OS --minimum-zoom=12 --maximum-zoom=12 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson rail.geojson railway_stations.geojson roads.geojson surfacewater.geojson urban_areas.geojson woodland.geojson sites.geojson airports.geojson

cd /mnt/c/tiles/oszoom/veryhigh
tippecanoe -o osveryhigh.mbtiles  --attribution=OS --minimum-zoom=13 --maximum-zoom=13 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson rail.geojson railway_stations.geojson roads.geojson surfacewater.geojson woodland.geojson sites.geojson airports.geojson buildings.geojson

cd /mnt/c/tiles/oszoom/ultrahigh
tippecanoe -o osultrahigh.mbtiles  --attribution=OS --minimum-zoom=14 --maximum-zoom=14 --drop-smallest-as-needed --simplification=10 --force boundaries.geojson foreshore.geojson greenspace.geojson sea.geojson names.geojson rail.geojson railway_stations.geojson roads.geojson surfacewater.geojson woodland.geojson sites.geojson airports.geojson buildings.geojson




cd /mnt/c/tiles/oszoom
tile-join -o oszoom3.mbtiles low/oslow.mbtiles med/osmed.mbtiles high/oshigh.mbtiles veryhigh/osveryhigh.mbtiles ultrahigh/osultrahigh.mbtiles
pmtiles-convert oszoom3.mbtiles oszoom3.pmtiles


cd ..
tile-join -o oslowmed.mbtiles low/oslow.mbtiles med/osmed.mbtiles
tile-join -o osmedhigh.mbtiles oslowmed.mbtiles high/oshigh.mbtiles
pmtiles-convert osmedhigh.mbtiles osmedhigh.pmtiles


### Terrain
cd /mnt/c/tiles/dem

rio rgbify -b -10000 -i 0.1 -j 20 --format png --max-z 9 --min-z 0 UK-dem-50m-4326.tif dem.mbtiles
mb-util dem.mbtiles tiles
pmtiles-convert dem.mbtiles dem.pmtiles

rio rgbify -b -10000 -i 0.1 -j 20 --format webp --max-z 9 --min-z 0 UK-dem-50m-4326.tif demwebp.mbtiles
mb-util demwebp.mbtiles tileswebp

### PCT route network

tippecanoe --output-to-directory=pctroutenetwork/low --name=pct --layer=pct --attribution=PCT --maximum-zoom=8 --minimum-zoom=4  --drop-smallest-as-needed --simplification=10 --buffer=5 --force  pct/rnet_low.geojson

tippecanoe --output-to-directory=pctroutenetwork/med --name=pct --layer=pct --attribution=PCT --maximum-zoom=11 --minimum-zoom=9  --drop-smallest-as-needed --simplification=10 --buffer=5 --force  pct/rnet_med.geojson

tippecanoe --output-to-directory=pctroutenetwork/high --name=pct --layer=pct --attribution=PCT --maximum-zoom=13 --minimum-zoom=12  --drop-smallest-as-needed --simplification=10 --buffer=5 --force  pct/rnet_high.geojson



### Travel to Work Lines
cd /mnt/d/GitHub/creds2/CarbonCalculator/data

tippecanoe --output-to-directory=Travel2Work  --attribution=MALCOLMMORGAN --maximum-zoom=10 --minimum-zoom=8 --maximum-tile-bytes=5000000 --force ../data-prepared/travel2work_lines_suppressed_morethan10.geojson

COVID
cd /mnt/d/GitHub/ITSleeds/covid/data
tippecanoe -z13 --output-to-directory=tiles --coalesce-smallest-as-needed --simplification=5 --detect-shared-borders covid.geojson


### Postcodes

cd /mnt/d/GitHub/creds2/EnergyCrisis/data/tiles

tippecanoe --output-to-directory=postcode --name=postcode --layer=postcode --attribution=MALCOLMMORGAN --maximum-zoom=13 --minimum-zoom=6  --coalesce-smallest-as-needed --simplification=10 --detect-shared-borders --maximum-tile-bytes=5000000 --buffer=5 --force  gas_postcodes.geojson


tippecanoe -o postcode.mbtiles --name=postcode --layer=postcode --attribution=MALCOLMMORGAN -zg --minimum-zoom=8 --extend-zooms-if-still-dropping --drop-smallest-as-needed --simplification=10 --detect-shared-borders --force  --maximum-tile-bytes=5000000 gas_electric_postcodes.geojson

mb-util postcodelow.mbtiles --image_format=pbf postcodelow

pmtiles-convert postcode.mbtiles postcode.pmtiles --overwrite

### EPC Points
cd /mnt/d/GitHub/creds2/EnergyCrisis/data/tiles

tippecanoe --output-to-directory=epc --name=epc --layer=epc --attribution=MALCOLMMORGAN --maximum-zoom=16 --minimum-zoom=6  --drop-densest-as-needed -rg4 --force  epc.geojson 

tippecanoe -o epc.mbtiles --name=epc --layer=epc --attribution=MALCOLMMORGAN -zg --minimum-zoom=6  --extend-zooms-if-still-dropping --drop-densest-as-needed -rg4 --force  epc.geojson

tippecanoe -o epc4.mbtiles --name=epc --layer=epc --attribution=MALCOLMMORGAN -zg --minimum-zoom=8  --extend-zooms-if-still-dropping --drop-densest-as-needed --force -P epc.geojson

cd /mnt/c/tiles/epc


tippecanoe -o epc_wiggle_high.mbtiles --name=epc --layer=epc --attribution=MALCOLMMORGAN --minimum-zoom=6 --maximum-zoom=14 --drop-densest-as-needed --force --extend-zooms-if-still-dropping -P epc_wiggle2.geojson

tippecanoe -o epc_wiggle_low.mbtiles --name=epc --layer=epc --attribution=MALCOLMMORGAN --minimum-zoom=6 --maximum-zoom=12 --drop-densest-as-needed --force -P epc_wiggle_sample2.geojson



mb-util epc_wiggle_low.mbtiles --image_format=pbf epclow2
mb-util epc_wiggle_high.mbtiles --image_format=pbf epchigh2


pmtiles-convert epc.mbtiles epc.pmtiles

### OAS

cd /mnt/d/GitHub/creds2/CarbonCalculator/data/tiles

tippecanoe -o oa.mbtiles --name=oa --layer=oa --attribution=MALCOLMMORGAN -zg --minimum-zoom=8 --extend-zooms-if-still-dropping --drop-smallest-as-needed --simplification=10 --detect-shared-borders --force  --maximum-tile-bytes=5000000 cars_oa.geojson

mb-util oa.mbtiles --image_format=pbf oatiles




ZOOM Level notes

Zoom 12 is about 1:150000 and difference between full and generalised lsoa boundaires is very subtle

Zoom 14 is 1:35000 all LSOA visible, difference between full and generalised boundaries is clear

Zoom 16 is 1:8000 is about the maximum needed to let a single LSOA full most of the screen, but uses too much data